{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst BASE_URL ='https://pixabay.com/api';\nconst API_KEY = '45541862-830ec78a7fc3c846a462bfeb1';\n\nexport const fetchPhotos = (searchedQuery) => {\n    const urlParams = new URLSearchParams({\n        key: API_KEY,\n        q: searchedQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n    \n    \n   return fetch(`${BASE_URL}?${urlParams.toString()}`)\n    .then(response => {\n       if(!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n       } \n       return response.json();\n    });\n};","\nexport const createGalleryCardTemplate = imgInfo => {\n    return `\n    <li class=\"gallery-card\">\n      <a href=\"${imgInfo.largeImageURL}\">\n        <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n      </a> \n      <ul>\n        <li>likes: ${imgInfo.likes}</li>\n        <li>views: ${imgInfo.views}</li>\n        <li>comments: ${imgInfo.comments}</li>\n        <li>downloads: ${imgInfo.downloads}</li>\n      </ul>\n    </li>\n    `;\n};\n\nexport const displayPhotos = (photos, galleryEl, modal) => {\n    const galleryMarkup = photos.map(createGalleryCardTemplate).join('');\n    galleryEl.innerHTML = galleryMarkup;\n\n    modal.refresh();\n};\n\n\n\nexport const showLoadingIndicator = (indicatorEl) => {\n    indicatorEl.classList.remove('is-hidden');\n};\n\nexport const hideLoadingIndicator = (indicatorEl) => {\n    indicatorEl.classList.add('is-hidden');\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport { fetchPhotos } from \"./js/pixabay-api\";\nimport { createGalleryCardTemplate } from \"./js/render-functions\";\nimport { displayPhotos } from \"./js/render-functions\";\nimport { showLoadingIndicator } from \"./js/render-functions\";\nimport { hideLoadingIndicator } from \"./js/render-functions\";\n\n\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loadingIndicatorEl = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery-card a');\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const searchValue = searchFormEl.elements.user_query.value.trim();\n    if(searchValue === \"\") {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n        return;\n    }\n    \n    showLoadingIndicator(loadingIndicatorEl);\n\n    galleryEl.innerHTML = ''; // Очистка \n   \n\n\n    fetchPhotos(searchValue)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.warning({\n                    title: \"No results\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topRight',\n                });\n                return;\n            }\n            displayPhotos(data.hits, galleryEl,lightbox);\n        })\n        .catch(err => {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Something went wrong! Please try again later.\",\n                position: 'topRight',\n            });\n            console.error(\"Error fetching images:\", err);\n        })\n        .finally(() => {\n            hideLoadingIndicator(loadingIndicatorEl);\n            searchFormEl.elements.user_query.value = '';\n        });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["BASE_URL","API_KEY","fetchPhotos","searchedQuery","urlParams","response","createGalleryCardTemplate","imgInfo","displayPhotos","photos","galleryEl","modal","galleryMarkup","showLoadingIndicator","indicatorEl","hideLoadingIndicator","searchFormEl","loadingIndicatorEl","lightbox","SimpleLightbox","onSearchFormSubmit","event","searchValue","iziToast","data","err"],"mappings":"6vBACA,MAAMA,EAAU,0BACVC,EAAU,qCAEHC,EAAeC,GAAkB,CAC1C,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAGF,OAAO,MAAM,GAAGH,CAAQ,IAAII,EAAU,SAAU,CAAA,EAAE,EAChD,KAAKC,GAAY,CACf,GAAG,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAEzD,OAAOA,EAAS,MACvB,CAAK,CACL,ECpBaC,EAA4BC,GAC9B;AAAA;AAAA,iBAEMA,EAAQ,aAAa;AAAA,wCACEA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,qBAG7DA,EAAQ,KAAK;AAAA,qBACbA,EAAQ,KAAK;AAAA,wBACVA,EAAQ,QAAQ;AAAA,yBACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,MAM7BC,EAAgB,CAACC,EAAQC,EAAWC,IAAU,CACvD,MAAMC,EAAgBH,EAAO,IAAIH,CAAyB,EAAE,KAAK,EAAE,EACnEI,EAAU,UAAYE,EAEtBD,EAAM,QAAO,CACjB,EAIaE,EAAwBC,GAAgB,CACjDA,EAAY,UAAU,OAAO,WAAW,CAC5C,EAEaC,EAAwBD,GAAgB,CACjDA,EAAY,UAAU,IAAI,WAAW,CACzC,EClBME,EAAe,SAAS,cAAc,iBAAiB,EACvDN,EAAY,SAAS,cAAc,aAAa,EAChDO,EAAqB,SAAS,cAAc,SAAS,EAErDC,EAAW,IAAIC,EAAe,iBAAiB,EAE/CC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAcN,EAAa,SAAS,WAAW,MAAM,OAC3D,GAAGM,IAAgB,GAAI,CACnBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACrB,CAAS,EACD,MACH,CAEDV,EAAqBI,CAAkB,EAEvCP,EAAU,UAAY,GAItBR,EAAYoB,CAAW,EAClB,KAAKE,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,QAAQ,CACb,MAAO,aACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDf,EAAcgB,EAAK,KAAMd,EAAUQ,CAAQ,CACvD,CAAS,EACA,MAAMO,GAAO,CACVF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACT,SAAU,UAC1B,CAAa,EACD,QAAQ,MAAM,yBAA0BE,CAAG,CACvD,CAAS,EACA,QAAQ,IAAM,CACXV,EAAqBE,CAAkB,EACvCD,EAAa,SAAS,WAAW,MAAQ,EACrD,CAAS,CACT,EAEAA,EAAa,iBAAiB,SAAUI,CAAkB"}